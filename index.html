<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas Image Gallery</title>
  <style>
    /* Reset default margin and set full height */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    /* Header and footer styling */
    header, footer {
      width: 100%;
      text-align: center;
      background-color: #333;
      color: white;
      padding: 10px 0;
      position: fixed;
      left: 0;
      z-index: 1;
    }

    header {
      top: 0;
    }

    footer {
      bottom: 0;
    }

    /* Main content area with space reserved for header/footer */
    main {
      padding: 60px 20px 60px 20px; /* top and bottom padding for header/footer */
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Canvas styling */
    canvas {
      border: 1px solid #ccc;
      /* make canvas smaller but still responsive:
         - use up to 720px on large screens
         - otherwise use 85% of the viewport width
         - height adjusts automatically to preserve aspect ratio */
      width: min(85vw, 720px);
      height: auto;
      max-width: 100%;
    }

    /* Controls styling */
    .controls {
      margin: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
    }

    /* Paragraph aligned to canvas left edge */
    .description {
      align-self: flex-start;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Image Gallery</h1>
  </header>

  <main>
    <canvas id="galleryCanvas" width="800" height="600"></canvas>

    <div class="controls">
      <button id="prevBtn">← Previous</button>
      <button id="nextBtn">Next →</button>
    </div>

    <p class="description">Below is an example gallery.</p>
  </main>

  <footer>
    <p>This is the footer!</p>
  </footer>

  <script>
    const canvas = document.getElementById('galleryCanvas');
    const ctx = canvas.getContext('2d');

    // Array of image paths (assumes images are in images/ folder)
    const imagePaths = [
      'images/img1.jpg',
      'images/img2.jpg',
      'images/img3.jpg',
      'images/img4.jpg',
      'images/img5.jpg',
      'images/img6.jpg'
    ];

    const images = [];
    let currentIndex = 0;

    // Preload all images
    imagePaths.forEach((path, index) => {
      const img = new Image();
      img.src = path;
      img.onload = () => {
        images[index] = img;
        if (index === 0) drawImage(); // Draw first image once loaded
      };
    });

    // Draw the current image centered and scaled to fit canvas
    function drawImage() {
      const img = images[currentIndex];
      if (!img) return;

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Calculate scale to fit while preserving aspect ratio
      const scale = Math.min(canvas.width / img.width, canvas.height / img.height);
      const scaledWidth = img.width * scale;
      const scaledHeight = img.height * scale;

      // Calculate position to center image
      const x = (canvas.width - scaledWidth) / 2;
      const y = (canvas.height - scaledHeight) / 2;

      // Draw image
      ctx.drawImage(img, x, y, scaledWidth, scaledHeight);
    }

    // Navigate to previous image
    document.getElementById('prevBtn').addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      drawImage();
    });

    // Navigate to next image
    document.getElementById('nextBtn').addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % images.length;
      drawImage();
    });

    // Redraw image on window resize to maintain scaling
    window.addEventListener('resize', drawImage);
  </script>
</body>
</html>
